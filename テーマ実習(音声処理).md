
# テーマ実習(音声処理)
### 6/3音声処理のための環境構築
- VSCodeのインストール
- pyenvのインストール(pythonのバージョンを切り替えるため)
```
export PYENV_ROOT="$HOME/.pyenv"
export PATH="$PYENV_ROOT/bin:$PATH"
if command -v pyenv 1>/dev/null 2>&1; then
  eval "$(pyenv init --path)"
fi
```
-　その他パッケージのインストール(pipのバージョンがアップデートされていない場合はエラーが出るので、先にpipのアップデートを行う)
```
pip install --upgrade pip
```
```
pip install pyworld
pip install librosa
pip install pandas
pip install matplotlib
pip install tqdm
pip install jupyterlab
```
### 6/9pytonで行う音声処理の説明

-コードの意味

>#Vocoder Functions
>import pyworld as pw
>_f0, t = pw.dio(x, fs)    # raw pitch extractor
>f0 = pw.stonemask(x, _f0, t, fs)  # pitch refinement
>sp = pw.cheaptrick(x, f0, t, fs)  # extract smoothed spectrogram
>ap = pw.d4c(x, f0, t, fs)         # extract aperiodicity
>
>y = pw.synthesize(f0, sp, ap, fs) # synthesize an utterance using the parameters
>Utility
># Convert speech into features (using default arguments)
>f0, sp, ap = pw.wav2world(x, fs)

```
f0, t = pw.dio(x, fs)
```
tは時間、fsは周波数、xはwavファイルなどを読み込んだlow wave
```
f0 = pw.stonemask(x, _f0, t, fs)
```
F0(声帯にあたる)を整える。このF0を変換し、音声合成することで声がどのように変化するのかを調べる。
```
sp = pw.cheaptrick(x, f0, t, fs)
```
スペクトル包絡(声道にあたる)を取り出す
```
ap = pw.d4c(x, f0, t, fs)
```
非周期性指標(「く」や「つ」」などの無声音にあたる)を取り出す
```
y = pw.synthesize(f0, sp, ap, fs)
```
音声合成を行う

